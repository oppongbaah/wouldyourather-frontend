(this.webpackJsonptwitter=this.webpackJsonptwitter||[]).push([[10],{118:function(t,e,n){},119:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return c}));var s=new(n(24).a),a=function(t,e){return t.filter((function(t){return t._id===e&&!!t.imageURL})).map((function(t){return t.imageURL}))},r=function(t,e){return t.filter((function(t){return t._id===e&&!!t.username})).map((function(t){return t.username}))},c=function(t,e){var n=t.filter((function(t){return t._id===e})).map((function(t){return t._id}));return n.toString()===s.get("authedUser").trim()?"you":n}},134:function(t,e,n){"use strict";n.r(e);var s=n(23),a=n.n(s),r=n(31),c=n(117),i=n(1),o=n(25),u=n(6),d=n(119),l=n(39),h=n(24),j=(n(118),n(124)),b=n(2),p=void 0,O=new h.a;e.default=Object(o.b)((function(t){return{users:t.users.payload.data,authedUser:t.users.authedUser.name,polls:t.polls.payload.data,voteStatus:t.polls.vote.status,votedQuestion:t.polls.vote.data}}),(function(t){return{dispatch_fetchPoll:function(){return t(Object(l.b)())},dispatch_vote:function(e,n,s){return t(Object(l.d)(e,n,s))}}}))(Object(u.g)((function(t){Object(i.useEffect)((function(){t.dispatch_fetchPoll()}),[t.voteStatus]);var e=Object(i.useState)(""),n=Object(c.a)(e,2),s=n[0],o=n[1],l=Object(i.useState)(""),h=Object(c.a)(l,2),f=h[0],v=h[1],m=Object(i.useState)(!1),x=Object(c.a)(m,2),y=x[0],g=x[1],_=Object(i.useState)("A"),w=Object(c.a)(_,2),q=w[0],P=w[1],U=Object(i.useState)("B"),N=Object(c.a)(U,2),S=N[0],k=N[1],R=null,A=null;try{var C=function(e){A=t.history.location.users,R=t.history.location.state.question,t.dispatch_vote(R._id,t.authedUser,e),o("selected"),g(!0),P(Object(b.jsx)(j.a,{})),t.history.push("/questions/".concat(R._id,"/answered"),{question:R,users:A})};t.history.listen((function(e,n){"POP"===n&&t.history.push("/")}));var F=function(){var e=Object(r.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,A=t.history.location.state.users,R=t.history.location.state.question,e.next=5,t.dispatch_vote(R._id,t.authedUser,n);case 5:v("selected"),g(!0),k(Object(b.jsx)(j.a,{})),t.history.push("/questions/".concat(R._id,"/answered"),{question:R,users:A,prevPath:t.history.location.pathname}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),J=function(t,e){return Object(b.jsxs)("div",{className:"question",children:[Object(b.jsx)("h2",{children:" Would You Rather? "}),Object(b.jsxs)("div",{className:"option-btn",children:[Object(b.jsxs)("div",{children:[" ",Object(b.jsxs)("p",{children:[" ",q," "]})," "]}),Object(b.jsx)("button",{className:"btn btn-primary active ".concat(s),disabled:y,onClick:C.bind(p,"optionOne"),children:t.text})]}),Object(b.jsxs)("div",{className:"option-btn",children:[Object(b.jsxs)("div",{children:[" ",Object(b.jsxs)("p",{children:[" ",S," "]})," "]}),Object(b.jsx)("button",{className:"btn btn-primary active ".concat(f),disabled:y,onClick:F.bind(p,"optionTwo"),children:e.text})]})]})},L=function(){A=t.history.location.state.users;var e=R=t.history.location.state.question,n=e.author,s=e.optionOne,a=e.optionTwo,r=Object(d.a)(A,n);return r=r[0]?r:"avatar.png",Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"poll",children:[Object(b.jsx)("div",{className:"avatar",children:Object(b.jsx)("img",{src:"/usersAvatar/".concat(r),alt:"profile"})}),Object(b.jsxs)("div",{className:"poll-info",children:[Object(b.jsx)("div",{className:"asked-by",children:Object(b.jsxs)("span",{children:[" asked by @",Object(d.b)(t.users,n)," "]})}),J(s,a)]})]})})};return Object(b.jsxs)(b.Fragment,{children:[O.get("authedUser")&&"PUSH"===t.history.action&&t.history.location.state||"POP"===t.history.action&&t.history.location.state?L():Object(b.jsx)(u.a,{to:{pathname:"/users/login",state:{desc:"sign in required",redirected:!0,questionPath:t.history.location.pathname}}}),!O.get("authedUser")&&Object(b.jsx)(u.a,{to:{pathname:"/users/login",state:{desc:"sign in required",redirected:!0,directPath:t.history.location.pathname}}})]})}catch(T){return console.log(T),Object(b.jsx)(u.a,{to:"/page-not-found-return-home"})}})))}}]);
//# sourceMappingURL=10.5594a33b.chunk.js.map