(this.webpackJsonptwitter=this.webpackJsonptwitter||[]).push([[7],{118:function(t,e,n){},119:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return c}));var s=new(n(24).a),a=function(t,e){return t.filter((function(t){return t._id===e&&!!t.imageURL})).map((function(t){return t.imageURL}))},r=function(t,e){return t.filter((function(t){return t._id===e&&!!t.username})).map((function(t){return t.username}))},c=function(t,e){var n=t.filter((function(t){return t._id===e})).map((function(t){return t._id}));return n.toString()===s.get("authedUser").trim()?"you":n}},137:function(t,e,n){"use strict";n.r(e);var s=n(117),a=n(36),r=n(1),c=n(25),i=n(6),u=n(24),o=n(119),l=n(121),d=n(2);var j=Object(c.b)((function(t){return{users:t.users.payload.data,authedUser:t.users.authedUser.name}}))((function(t){var e=t.question,n=e.author,s=e.timestamp,a=e.optionOne,r=parseInt(s),c=Object(o.a)(t.users,n);c=c[0]?c:"avatar.png";var i=Object(o.c)(t.users,n);return Object(d.jsxs)("div",{className:"poll",children:[Object(d.jsx)("div",{className:"avatar",children:Object(d.jsx)("img",{src:"/usersAvatar/".concat(c),alt:"profile"})}),Object(d.jsx)("div",{className:"poll-info",children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("span",{children:[" ",i," "]}),Object(d.jsxs)("div",{className:"date-time",children:[Object(d.jsx)("span",{children:new Date(r).toLocaleString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0})})," |",Object(d.jsxs)("span",{children:[" ",new Date(r).getDate()]}),"/",Object(d.jsx)("span",{children:new Date(r).getMonth()}),"/",Object(d.jsx)("span",{children:new Date(r).getFullYear()})]}),Object(d.jsx)("div",{className:"replying-to",children:Object(d.jsxs)("span",{children:[" asked by @",Object(o.b)(t.users,n)," "]})}),Object(d.jsx)("p",{children:" Would You Rather? "}),Object(d.jsxs)("p",{className:"option-one",children:[" ",Object(d.jsx)(l.a,{})," ",a.text," ... "]}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{className:"view btn btn-info",onClick:t.viewClicked.bind(this,t.question),children:"View"})]})})]})}));var b,h=Object(c.b)((function(t){return{polls:t.polls.payload.data,users:t.users.payload.data,authedUser:t.users.authedUser.name}}))(Object(i.g)((function(t){var e=t.requiredPolls.length?t.requiredPolls:t.polls,n=function(e){t.history.push("/questions/".concat(e._id,"/").concat(t.status),{question:e,users:t.users,prevPath:t.history.location.pathname})};return Object(d.jsxs)(d.Fragment,{children:["recommended"!==t.status&&Object(d.jsx)("ul",{children:e.map((function(t){return Object(d.jsx)("li",{children:Object(d.jsx)(j,{question:t,viewClicked:n})},t._id)}))}),"recommended"===t.status&&function(){var s,a=(s=t.requiredPolls.length?e:t.polls.filter((function(e){return!e.optionOne.votes.includes(t.authedUser)&&!e.optionTwo.votes.includes(t.authedUser)})))[Math.floor(Math.random()*s.length)];return Object(d.jsx)("li",{children:Object(d.jsx)(j,{question:a,viewClicked:n})})}()]})}))),O=(n(118),n(38)),p=n(37),m=n(39),v=new u.a;e.default=Object(c.b)((function(t){return{users:t.users.payload.data,userStatus:t.users.payload.status,authedUser:t.users.authedUser.name,authUserStatus:t.users.authedUser.status,polls:t.polls.payload.data,pollStatus:t.polls.payload.status,btnStatus:t.polls.btnStatus}}),(function(t,e){return{dispatch_getBtnStatus:function(e){return t(Object(m.c)(e))},dispatch_fetchPoll:function(){return t(Object(m.b)())}}}))(Object(i.g)((function(t){Object(r.useEffect)((function(){t.dispatch_getBtnStatus("recommended"),F()}),[]),Object(r.useEffect)((function(){"answered"===t.btnStatus?N():"unanswered"===t.btnStatus?_():"recommended"===t.btnStatus&&F()}),[t.btnStatus]);var e=Object(O.a)(b||(b=Object(a.a)(["\n      display: block;\n      margin: 20% auto;\n      border-color: tomato;\n      "]))),n=Object(r.useState)(t.polls),c=Object(s.a)(n,2),u=c[0],o=c[1],l=Object(r.useState)("inactive"),j=Object(s.a)(l,2),m=j[0],f=j[1],x=Object(r.useState)("inactive"),g=Object(s.a)(x,2),S=g[0],w=g[1],U=Object(r.useState)("inactive"),y=Object(s.a)(U,2),q=y[0],k=y[1],N=function(){var e=t.polls.filter((function(e){return e.optionOne.votes.includes(t.authedUser)||e.optionTwo.votes.includes(t.authedUser)}));w("active"===S?"inactive":"active"),f("inactive"),k("inactive"),o(e)},_=function(){var e=t.polls.filter((function(e){return!e.optionOne.votes.includes(t.authedUser)&&!e.optionTwo.votes.includes(t.authedUser)}));k("active"===q?"inactive":"active"),f("inactive"),w("inactive"),o(e)},F=function(){var e=t.polls.filter((function(e){return!e.optionOne.votes.includes(t.authedUser)&&!e.optionTwo.votes.includes(t.authedUser)}));f("active"===m?"inactive":"active"),w("inactive"),k("inactive"),o(e)};return Object(d.jsxs)(d.Fragment,{children:[v.get("authedUser")&&Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"main-container",children:[Object(d.jsxs)("div",{className:"top-panel",children:[Object(d.jsx)("button",{onClick:function(){t.dispatch_getBtnStatus("recommended")}.bind(this),className:"btn btn-success all ".concat(m),children:"Recommended"}),Object(d.jsx)("button",{onClick:function(){t.dispatch_getBtnStatus("unanswered")}.bind(this),className:"btn btn-danger unanswered ".concat(q),children:"Unanswered"}),Object(d.jsx)("button",{className:"btn btn-primary answered ".concat(S),onClick:function(){t.dispatch_getBtnStatus("answered")}.bind(this),children:"Answered"})]}),"done"===t.pollStatus&&"done"===t.userStatus&&"done"===t.authUserStatus&&function(){var e=t.polls.filter((function(t){return!t.optionOne.votes.includes(v.get("authedUser"))&&!t.optionTwo.votes.includes(v.get("authedUser"))}));return e.length||u.length?"answered"===t.btnStatus?u.length?Object(d.jsx)(h,{requiredPolls:u,status:t.btnStatus}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("p",{children:" You have not answered any question yet. Thank you! "})]}):"unanswered"===t.btnStatus&&u.length?Object(d.jsx)(h,{requiredPolls:u,status:t.btnStatus}):"recommended"===t.btnStatus?e.length?Object(d.jsx)(h,{requiredPolls:u,status:t.btnStatus}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("p",{children:" No Recommendation. Thank you! "})]}):void 0:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("p",{children:" You have no unanswered questions. Thank you! "})]})}(),"loading"===t.pollStatus&&"loading"===t.userStatus&&"done"!==t.authUserStatus&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(p.DotLoader,{color:"tomato",loading:!0,css:e,size:60})]}),"failed"===t.pollStatus&&"failed"===t.authUserStatus&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("p",{children:" No Internet Connection "})]})]})}),!v.get("authedUser")&&Object(d.jsx)(i.a,{to:{pathname:"/users/login",state:{desc:"sign in required",redirected:!0,prevState:t.history.location.pathname}}})]})})))}}]);
//# sourceMappingURL=7.43909b07.chunk.js.map